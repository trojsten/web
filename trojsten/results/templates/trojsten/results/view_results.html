{% extends "trojsten/layout/main.html" %}
{% load results_parts %}
{% load utils %}

{% block title %}Výsledky{% endblock %}

{% block page_header %}
<h1>Výsledky<small>
{% for round in rounds %}{% if not forloop.first and not forloop.last %},{% endif %} {% if not forloop.first and forloop.last %} a {% endif %} {{round.number}}.{% endfor %}
kolo {{series.number}}. série {{series.year}}. ročníka {{series.competition}}
{% for category in categories %}
    <span class="label label-default category-{{category}}">{{category}}</span>
{% endfor %}
</small></h1>
{% endblock %}

{% block page_content %}
{% is_final rounds=rounds categories=categories as final_results %}
{% is_organizer competition=series.competition as organizer %}

{% if not final_results %}<div class="alert alert-warning">Výsledky sú predbežné.{% if organizer %} <a class="alert-link" href="{% url 'freeze_results' round_ids=rounds|as_ids|join:',' category_ids=categories|as_ids|join:',' %}">Zamraziť.</a>{% endif %}</div>{% endif %}
{% show_results_table rounds=rounds categories=categories%}
{% endblock %}
